<!-- This is the Idle state of the form -->
<form
  class="form-size card-container col-container p-40 g-24"
  (ngSubmit)="onSubmitClick()"
  #formContainer="ngForm"
  @scaleUpAnimation
>
  <h2>Report Incident</h2>

  <!-- Title Container -->
  <div class="col-container g-8">
    <textarea
      type="text"
      name="title"
      placeholder="Set a description"
      [disabled]="isEditMode"
      required
      [(ngModel)]="userInput.title"
      #title="ngModel"
    ></textarea>

    <!-- This is the error text for the title -->
    <p class="error-text caption-text" *ngIf="title.touched && title.invalid">
      Please enter a valid title !!
    </p>
  </div>

  <!-- Priority Container -->
  <div class="row-container g-16 items-center">
    <p class="muted-text body-text">Priority :</p>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="priority"
        [disabled]="isEditMode"
        value="HIGH"
        [(ngModel)]="userInput.priority"
      />
      <small class="error-text body-text">High</small>
    </label>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="priority"
        [disabled]="isEditMode"
        value="MEDIUM"
        [(ngModel)]="userInput.priority"
      />
      <small class="warning-text body-text">Medium</small>
    </label>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="priority"
        [disabled]="isEditMode"
        value="LOW"
        [(ngModel)]="userInput.priority"
      />
      <small class="success-text body-text">Low</small>
    </label>
  </div>

  <!-- Status Container -->
  <div class="row-container g-16 items-center" *ngIf="isEditMode">
    <p class="muted-text body-text">Status :</p>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="status"
        value="OPEN"
        [(ngModel)]="userInput.status"
      />
      <small class="error-text body-text">Open</small>
    </label>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="status"
        value="IN-PROGRESS"
        [(ngModel)]="userInput.status"
      />
      <small class="warning-text body-text">In-Progress</small>
    </label>

    <label class="row-container g-4 items-center">
      <input
        type="radio"
        name="status"
        value="CLOSED"
        [(ngModel)]="userInput.status"
      />
      <small class="success-text body-text">Closed</small>
    </label>
  </div>

  <!-- Comment Section -->
  <textarea
    *ngIf="isEditMode"
    type="text"
    name="comment"
    placeholder="Enter a Comment (optional)"
    [(ngModel)]="userInput.comment"
  ></textarea>

  <!-- Button Containers -->
  <div class="row-container g-24">
    <button
      type="submit"
      class="btn btn-primary flex-1"
      [disabled]="formContainer.invalid"
    >
      Report
    </button>
    <button
      type="button"
      class="btn btn-destructive flex-1"
      (click)="onCancelClick()"
    >
      Cancel and Go Back
    </button>
  </div>
</form>
